# Lyfe Supertask Testing UI

A minimal, zero-dependency testing interface for validating generated supertask JSON files on mobile devices.

## 🎯 Purpose

This tool provides instant visual validation of supertask JSON files generated by the [Lyfe Supertask Knowledge Generator](../lyfe-supertask-knowledge). It simulates the mobile experience and validates:

- ✅ Mobile character limits (v1.1 schema compliance)
- ✅ Content structure (3-8 flexibleItems)
- ✅ Quiz interactions and flow
- ✅ Quote rendering with authors
- ✅ Mobile optimization scoring

## 🚀 Quick Start

### Zero Installation Required!

```bash
# Option 1: Direct browser opening
open index.html

# Option 2: Local server (recommended)
python3 -m http.server 8000
# → Navigate to http://localhost:8000
```

### Testing Generated Content

```bash
# 1. Generate supertasks in main repo
cd ../lyfe-supertask-knowledge
python -m lyfe_kt.cli generate template work/02_preprocessed/sample.md work/03_output/

# 2. Test in UI
cd ../lyfe-supertask-ui
open index.html
# → Drag & drop JSON from ../lyfe-supertask-knowledge/work/03_output/
```

## 📱 Features

### Mobile Experience Simulation
- **Device Frame**: iPhone SE (375px) simulation
- **Touch Interactions**: Mobile-optimized quiz buttons
- **Navigation**: Step-through supertask flow
- **Progress Tracking**: Visual completion indicator

### Real-Time Validation
- **Schema Compliance**: v1.1 mobile schema validation
- **Character Limits**: Live character count checking
- **Mobile Score**: Optimization rating (0-100%)
- **Content Variety**: FlexibleItems structure validation

### Development Tools
- **Debug Panel**: Toggle with 🔧 button
- **Validation Report**: Export detailed analysis
- **Error Handling**: Clear error messages
- **Auto-reload**: Supports file watching during development

## 🔧 File Structure

```
lyfe-supertask-ui/
├── index.html              # Single page application
├── styles/
│   ├── mobile.css          # Mobile-first responsive styles
│   ├── components.css      # Supertask component styles
│   └── debug.css           # Debug panel styles
├── src/
│   └── main.ts             # Main application logic
├── assets/
│   └── supertask_schema_v1.1.json  # Local schema copy
└── README.md               # This file
```

## 📊 Validation Features

### Character Limit Checking
- **Content Items**: 50-300 characters ✅
- **Quiz Questions**: 15-120 characters ✅
- **Quiz Options**: 3-60 characters each ✅
- **Quotes**: 20-200 characters ✅
- **Quiz Explanations**: 30-250 characters ✅

### Structure Validation
- **FlexibleItems Count**: 3-8 items required
- **Content Variety**: Mix of content, quiz, and quote types
- **Required Fields**: All schema-required fields present
- **Data Types**: Proper string/number/array validation

### Mobile Optimization Scoring
- **Excellent (80-100%)**: All content within mobile limits
- **Good (60-79%)**: Most content optimized, minor issues
- **Poor (0-59%)**: Significant mobile optimization issues

## 🎮 Usage Instructions

### Loading Supertasks
1. **Drag & Drop**: Drop JSON file onto the drop zone
2. **File Picker**: Click "📁 Choose JSON File" button
3. **Auto-Validation**: Immediate schema and character validation
4. **Mobile Preview**: Instant mobile experience simulation

### Testing Flow
1. **Navigation**: Use Previous/Next buttons to move through items
2. **Quiz Interaction**: Click options to see feedback and explanations
3. **Progress Tracking**: Watch completion progress in header
4. **Debug Analysis**: Toggle debug panel for detailed validation

### Development Workflow
1. **Generate Content**: Create supertasks in main pipeline
2. **Load & Test**: Drag JSON files into testing UI
3. **Validate**: Check character limits and mobile experience
4. **Iterate**: Make changes and reload for instant feedback
5. **Export Report**: Save validation results for QA

## 🚨 Common Issues

### File Not Loading
- **Check File Type**: Must be `.json` extension
- **Validate JSON**: Use JSON validator if parse errors occur
- **Check Size**: Large files may take time to process

### Validation Errors
- **Schema Compliance**: Check required fields are present
- **Character Limits**: Review debug panel for specific violations
- **FlexibleItems**: Ensure 3-8 items with proper variety

### Mobile Display Issues
- **Responsive Design**: UI adapts to different screen sizes
- **Touch Targets**: Buttons sized for mobile interaction
- **Content Overflow**: Scrolling enabled for long content

## 🔗 Integration

### With Main Pipeline
This UI is designed to work seamlessly with the Lyfe Supertask Knowledge Generator:

```bash
# Complete workflow
cd lyfe-supertask-knowledge
python -m lyfe_kt.cli preprocess file work/01_raw/content.md work/02_preprocessed/
python -m lyfe_kt.cli generate template work/02_preprocessed/content_filled_template.md work/03_output/

cd ../lyfe-supertask-ui
# → Load work/03_output/content_beginner.json in UI
```

### File Paths
The UI expects JSON files from the main project at:
- `../lyfe-supertask-knowledge/work/03_output/*.json`
- `../lyfe-supertask-knowledge/packages/*/03_output/*.json`

## 🎯 Perfect For

- **Content Creators**: Visual validation of generated supertasks
- **QA Testing**: Mobile experience validation before deployment
- **Development**: Rapid iteration during content generation improvements
- **Debug**: Character limit and schema compliance checking

## 🔮 Future Enhancements

- **Batch Testing**: Load multiple JSON files for comparison
- **A/B Testing**: Side-by-side difficulty level comparison
- **Analytics Simulation**: Mock user engagement tracking
- **Export to Mobile**: Generate shareable preview links

---

**Built with**: Pure TypeScript + CSS (Zero Dependencies)  
**Compatible with**: Supertask Schema v1.1 (Mobile-Optimized)  
**Target**: Local development and QA testing  